{"version":3,"file":"js/681.e3e2443d.js","mappings":"4NAGA,MAAMA,EAAU,qCAEVC,EAAMC,EAAAA,EAAMC,OAAO,CACvBH,UACAI,QAAS,MAGEC,EAAQA,CAACC,EAAUC,IAC9BN,EAAIO,KAAK,SAAU,CAAEF,WAAUC,aAGpBE,EAAgBA,IAAMR,EAAIS,IAAI,kBAG9BC,EAAeC,GAC1BX,EAAIO,KAAK,iBAAkBI,E,oEClB7B,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,SAASH,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBR,EAAIS,YAAYC,MAAM,KAAMC,UAAU,IAAI,CAACT,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIR,SAAUwB,WAAW,aAAaZ,YAAY,MAAMa,MAAM,CAAC,KAAO,OAAO,YAAc,OAAOC,SAAS,CAAC,MAASlB,EAAIR,UAAWc,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOY,OAAOC,YAAiBpB,EAAIR,SAASe,EAAOY,OAAOJ,MAAK,KAAKb,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIP,SAAUuB,WAAW,aAAaZ,YAAY,MAAMa,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMC,SAAS,CAAC,MAASlB,EAAIP,UAAWa,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOY,OAAOC,YAAiBpB,EAAIP,SAASc,EAAOY,OAAOJ,MAAK,KAAKb,EAAG,QAAQ,CAACE,YAAY,SAASa,MAAM,CAAC,KAAO,SAAS,MAAQ,aAAaf,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,cAAc,CAACe,MAAM,CAAC,GAAK,cAAc,CAACjB,EAAIK,GAAG,UAAUH,EAAG,IAAI,CAACe,MAAM,CAAC,KAAO,iBAAiB,CAACjB,EAAIK,GAAG,WAAW,MAC/lC,EACIgB,EAAkB,G,UC8BtB,GACAR,KAAA,WACAS,IAAAA,GACA,OACA9B,SAAA,GACAC,SAAA,GAEA,EACA8B,QAAA,CACA,iBAAAd,GACA,QAAAjB,UAAA,KAAAC,SAIA,IACA,WAAA6B,SAAA/B,EAAAA,EAAAA,IAAA,KAAAC,SAAA,KAAAC,UAGA+B,aAAAC,QAAA,QAAAH,EAAAI,OAAA,cAEAF,aAAAC,QAAA,gBAAAjC,UACAgC,aAAAC,QAAA,QAAAH,EAAAI,OAAA,cACAF,aAAAC,QAAA,OAAAE,KAAAC,UAAAN,EAAAO,OAEA,KAAAC,QAAAC,QAAA,QACA,OAAAC,GACAC,MAAA,SAAAD,EAAAE,UAAAZ,MAAAa,SAAAH,EAAAG,SACA,MAhBAF,MAAA,WAiBA,IC5DuP,I,UCSnPG,GAAY,OACd,EACArC,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAee,E","sources":["webpack://my-vue2-project/./src/api/index.js","webpack://my-vue2-project/./src/components/LoginBox.vue","webpack://my-vue2-project/src/components/LoginBox.vue","webpack://my-vue2-project/./src/components/LoginBox.vue?86a3","webpack://my-vue2-project/./src/components/LoginBox.vue?dbf6"],"sourcesContent":["import axios from 'axios'\r\n\r\n// 根据后端实际地址修改\r\nconst baseURL = 'https://111dc5664cn09.vicp.fun/api';  //跑本地也用这个，因为已经映射过了\r\n//  const baseURL = 'http://localhost:3000/api'         //这个纯本地\r\nconst api = axios.create({\r\n  baseURL,\r\n  timeout: 5000\r\n})\r\n\r\nexport const login = (username, password) =>\r\n  api.post('/login', { username, password })\r\n\r\n// 获取历史消息\r\nexport const fetchMessages = () => api.get('/chat/messages')\r\n\r\n// 发送消息\r\nexport const sendMessage = (payload) =>\r\n  api.post('/chat/messages', payload)","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"left\"}),_c('div',{staticClass:\"right\"},[_c('h4',[_vm._v(\"登 录\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"acc\",attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.username=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"acc\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}}),_c('input',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"value\":\"Login\"}})]),_c('div',{staticClass:\"fn\"},[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"注册账号\")]),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"找回密码\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box\">\n    <div class=\"left\"></div>\n    <div class=\"right\">\n      <h4>登 录</h4>\n      <form @submit.prevent=\"handleLogin\">\n        <input\n          v-model=\"username\"\n          class=\"acc\"\n          type=\"text\"\n          placeholder=\"用户名\"\n        />\n        <input\n          v-model=\"password\"\n          class=\"acc\"\n          type=\"password\"\n          placeholder=\"密码\"\n        />\n        <input class=\"submit\" type=\"submit\" value=\"Login\" />\n      </form>\n\n      <div class=\"fn\">\n        <router-link to=\"/register\">注册账号</router-link>\n        <a href=\"javascript:;\">找回密码</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login } from '@/api'\n\nexport default {\n  name: 'LoginBox',\n  data() {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  methods: {\n    async handleLogin() {\n      if (!this.username || !this.password) {\n         alert('请输入账号和密码')\n       return\n         }\n      try {\n        const { data } = await login(this.username, this.password)\n\n         // 1️⃣ 保存 token（如果后端给了）\n         localStorage.setItem('token', data.token || 'fake-token')\n        // 2️⃣ 保存用户名\n        localStorage.setItem('username', this.username)\n        localStorage.setItem('token', data.token || 'fake-token')\n        localStorage.setItem('user', JSON.stringify(data.user))\n         // 3️⃣ 跳首页（用 replace 避免回退）\n         this.$router.replace('/home')\n         } catch (err) {\n           alert('登录失败：' + (err.response?.data?.message || err.message))\n      }\n    }\n  }\n}\n</script>\n<style>\n/* 全局样式：写在组件里，但无 scoped 限制 */\nhtml {\n  font-size: 10px;\n}\n\nhtml::before {\n  content: \"\";\n  position: fixed;\n  inset: 0;\n  z-index: -1;\n  background: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);\n}\n</style>\n<style scoped>\n\n#app {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n}\n/* ========= 下面是你原来的完整 CSS ========= */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  font-size: 8px;\n}\n\nhtml::before {\n  content: \"\";\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: -1;\n  background: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);\n}\n\n::selection {\n  color: #fff;\n  background-color: rgb(144, 129, 240);\n}\n\n.box {\n   display: flex;\n  width: 80rem;          /* 比原来窄一点 */\n  height: 65rem;         /* 明显加高 */\n  background-color: rgba(255, 255, 255, 0.6);\n  border-radius: 1.5rem;\n  box-shadow: 0 0 1rem 0.2rem rgb(0 0 0 / 10%);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  .box .left  { width: 40%; }\n.box .right { width: 60%; }\n}\n\n.box .left {\n  position: relative;\n  width: 35%;\n  height: 100%;\n  background-color: skyblue;\n}\n\n.box .left::before {\n  content: \"\";\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-image: url(\"@/assets/1726886329561.jpg\");\n  background-size: cover;\n  opacity: 80%;\n}\n\n.box .right {\n  display: flex;\n  width: 65%;\n  flex-direction: column;\n  align-items: center;\n}\n\n.box .right h4 {\n  color: rgb(144, 129, 241);\n  font-size: 3rem;\n  margin-top: 5rem;\n}\n\n.box .right form {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.box .right form .acc {\n  outline: none;\n  width: 80%;\n  height: 5rem;\n  font-size: 1.6rem;\n  margin-top: 5rem;\n  padding: 1rem 0 0 1.6rem;\n  border: none;\n  border-bottom: 1px solid rgb(144, 129, 241);\n  color: rgb(144, 129, 241);\n  background-color: transparent;\n}\n\n.right form .acc:focus {\n  outline: none;\n  color: rgb(144, 129, 241);\n  padding: 1rem 0 0 1.6rem;\n}\n\n.right .submit {\n  width: 60%;\n  height: 5rem;\n  color: #f6f6f6;\n  background-image: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);\n  font-size: 1.4rem;\n  border: none;\n  border-radius: 0.5rem;\n  margin: 6rem 0 0 50%;\n  transform: translateX(-50%);\n  cursor: pointer;\n}\n\n.right .submit:hover {\n  box-shadow: 0 0 2rem -0.5rem rgb(0 0 0 / 15%);\n}\n\n.right .fn {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n  width: 70%;\n}\n\n.right .fn a {\n  font-size: 1.3rem;\n  margin-top: 5rem;\n  padding: 1rem 2rem;\n  color: #666;\n  text-decoration: none;\n}\n\n.right .fn a:hover {\n  color: rgb(144, 129, 241);\n}\n.box {\n  display: flex;\n  width: 90rem;\n  height: 55rem;\n  background-color: rgba(255, 255, 255, 0.6);\n  border-radius: 1.5rem;\n  box-shadow: 0 0 1rem 0.2rem rgb(0 0 0 / 10%);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LoginBox.vue?vue&type=template&id=094241c8&scoped=true\"\nimport script from \"./LoginBox.vue?vue&type=script&lang=js\"\nexport * from \"./LoginBox.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoginBox.vue?vue&type=style&index=0&id=094241c8&prod&lang=css\"\nimport style1 from \"./LoginBox.vue?vue&type=style&index=1&id=094241c8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"094241c8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["baseURL","api","axios","create","timeout","login","username","password","post","fetchMessages","get","sendMessage","payload","render","_vm","this","_c","_self","staticClass","_v","on","$event","preventDefault","handleLogin","apply","arguments","directives","name","rawName","value","expression","attrs","domProps","target","composing","staticRenderFns","data","methods","localStorage","setItem","token","JSON","stringify","user","$router","replace","err","alert","response","message","component"],"sourceRoot":""}