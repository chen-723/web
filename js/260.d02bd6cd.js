"use strict";(self["webpackChunkmy_vue2_project"]=self["webpackChunkmy_vue2_project"]||[]).push([[260],{260:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"left"}),t("div",{staticClass:"right"},[t("h4",[e._v("登 录")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"acc",attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"acc",attrs:{type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{staticClass:"submit",attrs:{type:"submit",value:"Login"}})]),t("div",{staticClass:"fn"},[t("router-link",{attrs:{to:"/register"}},[e._v("注册账号")]),t("a",{attrs:{href:"javascript:;"}},[e._v("找回密码")])],1)])])},r=[],n=s(4373);const o="https://111dc5664cn09.vicp.fun/api",i=n.A.create({baseURL:o,timeout:5e3}),u=(e,t)=>i.post("/login",{username:e,password:t});var l={name:"LoginBox",data(){return{username:"",password:""}},methods:{async handleLogin(){if(this.username&&this.password)try{const{data:e}=await u(this.username,this.password);localStorage.setItem("token",e.token||"fake-token"),localStorage.setItem("username",this.username),localStorage.setItem("token",e.token||"fake-token"),localStorage.setItem("user",JSON.stringify(e.user)),this.$router.replace("/home")}catch(e){alert("登录失败："+(e.response?.data?.message||e.message))}else alert("请输入账号和密码")}}},c=l,p=s(1656),m=(0,p.A)(c,a,r,!1,null,"094241c8",null),d=m.exports}}]);
//# sourceMappingURL=260.d02bd6cd.js.map