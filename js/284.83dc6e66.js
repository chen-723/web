"use strict";(self["webpackChunkmy_vue2_project"]=self["webpackChunkmy_vue2_project"]||[]).push([[284],{7284:function(e,a,s){s.r(a),s.d(a,{default:function(){return u}});var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"left"}),a("div",{staticClass:"right"},[a("h4",[e._v("注 册")]),a("form",{on:{submit:function(a){return a.preventDefault(),e.handleRegister.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"acc",attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.username},on:{input:function(a){a.target.composing||(e.username=a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"acc",attrs:{type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"acc",attrs:{type:"email",placeholder:"邮箱（可选）"},domProps:{value:e.email},on:{input:function(a){a.target.composing||(e.email=a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.avatar,expression:"avatar"}],staticClass:"acc",attrs:{type:"text",placeholder:"头像URL(可选)"},domProps:{value:e.avatar},on:{input:function(a){a.target.composing||(e.avatar=a.target.value)}}}),a("input",{staticClass:"submit",attrs:{type:"submit",value:"注册"}})]),a("div",{staticClass:"fn"},[a("router-link",{attrs:{to:"/login"}},[e._v("返回登录")]),a("a",{attrs:{href:"javascript:;"}},[e._v("找回密码")])],1),e.message?a("p",{style:{color:e.messageColor,marginTop:"1.5rem",fontSize:"1.4rem"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])},r=[],i=(s(4114),s(4373)),o={name:"RegisterPage",data(){return{username:"",password:"",email:"",avatar:"",message:"",messageColor:"red"}},methods:{async handleRegister(){if(this.username&&this.password)try{const e=await i.A.post("https://111dc5664cn09.vicp.fun/api/register",{username:this.username,password:this.password,email:this.email,avatar_url:this.avatar});0===e.data.code?(this.message="注册成功，正在跳转登录...",this.messageColor="green",setTimeout(()=>this.$router.push("/login"),1500)):this.message=e.data.message}catch(e){this.message="注册失败："+(e.response?.data?.message||e.message)}else this.message="用户名和密码不能为空"}}},n=o,l=s(1656),m=(0,l.A)(n,t,r,!1,null,"576229a3",null),u=m.exports}}]);
//# sourceMappingURL=284.83dc6e66.js.map